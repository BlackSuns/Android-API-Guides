# 概述 #

+ 一个Activity表示应用程序中一个屏幕的用户界面；
+ Activities可以移至后台并和被保存的状态一起恢复；


# 目录 #

创建Activity
> 实现用户界面    
> 在清单文件中声明Activity    

启动Activity
> 启动接收返回结果的Activity  

关闭Activity

管理Activity的声明周期
> 实现生命周期回调函数    
> 保存Activity的状态    
> 处理配置变化    
> Actiivites间的协作  

# Activities #

Activity是用来提供与用户交互的应用程序组件，比如打电话、拍照、发邮件或者查看地图。每个Activity都提供了用于绘制用户界面的窗口。这个窗口通常是覆盖整个屏幕的，但也可能比屏幕小并且悬浮在其他窗口之上。

应用程序通常由多个Activity组成，且有一个首次进入应用程序呈现给用户的“main” Actiivty。Activity可以启动其他Activity来完成不同的动作。每次新的Activity启动之后，上一个Activity就会停止，但系统会将这个Activity保留在栈中（the “Back Stack”）。新启动的Activity会被压入回退栈的栈顶并获得用户焦点。回退栈是基于“后进先出”的机制，因此，当用户按下返回按钮时，栈顶的Activity会被弹出栈（即销毁），前一个Activity就会恢复。

由于新的Activity启动，前一个Activity就会停止，它们的状态变化是通过Activity的生命周期回调方法通知的。Activity根据状态的变化可能会接收到几种不同的回调方法，你可以利用这些回调方法执行相应的工作。比如，Activity停止时需要释放类似与网络或者数据库连接这些大对象。Activity恢复时需要获取所需的资源和被中断的操作。这些状态的转换就是Activity的生命周期。

文档剩下的内容将会介绍怎样去创建和使用Activity，包括Activity的生命周期是怎么运行的，这样一来，你就可以正确地管理Activity的状态转换。


## 创建Activity ##

首先，你需要创建一个Activity的子类。在该子类中，你需要实现Activity状态转换时被系统调用的回调方法，其中，两个最重要的回调方法是：

onCreate()
> 必须实现该方法。系统在创建Activity时会调用。在你的实现中，你需要初始化Activity的主要组件。更重要的是，你必须调用setContentView()方法来定义Activity的用户界面。

onPause()
> 系统调用该方法作为用户离开Activity（通常不是指Activity被销毁）的第一个迹象。这里通常是提交在当前用户会话中需要保存的数据的地方（因为用户可能不会回到这个Activity）。

为了在多个Activity间提供流畅的用户体验和处理未知操作导致Activity停止和销毁，你还需要实现几个其他的生命周期回调方法。所有的生命周期回调方法都会在之后的*管理Activity的生命周期*小节中讨论。


### 实现用户界面 ###

Activity的用户界面是由层级结构的视图提供的-View的衍生对象。视图控制着Activity窗口的一块特定矩形区域并能够响应用户的交互。比如，视图是一个用户点击时会产生动作的按钮。

Android提供了很多现成的视图，你可以使用这些视图来设计和组织布局。“部件”是提供屏幕可视元素的视图，比如按钮，文本域，多选框或者图片。“布局”是提供唯一的布局模型，由ViewGroup衍生的对象，比如线性布局、网格布局或者相对布局。你可以继承View和ViewGroup来自定义部件和布局。

定义布局最常用的方式是使用保存在应用程序资源目录下的XML布局文件编写。这种方式使得用户界面的设计与定义Activity行为的代码分离。你可以使用setContentView(布局的资源ID)方法来设置Activity的用户界面。然而，你也可以在代码中创建视图，并将视图添加到布局中，然后使用setContentView(ViewGroup)方法设置用户界面。

关于创建用户界面的更多内容，可以查看[用户界面](http://developer.android.com/guide/topics/ui/index.html)文档。


### 在清单文件中定义Activity ###

你必须在清单文件中声明Activity以便系统可以访问它。你可以打开清单文件， 在&lt;application&gt;节点中添加一个&lt;activity&gt;的子节点。例如：

```
<manifest ... >
  <application ... >
      <activity android:name=".ExampleActivity" />
      ...
  </application ... >
  ...
</manifest >
```

你可以在&lt;activity&gt;节点中添加一些属性来定义Activity的特性，比如标签，图标或者UI的样式主题。*android:name*是唯一必须的属性-指定Activity的类名。一旦发布应用程序，你不要修改这个名称，因为这样会影响某些功能，比如应用程序快捷方式（看这篇博客[不能改变的东西](http://android-developers.blogspot.com/2011/06/things-that-cannot-change.html)）。


# 原文地址 #

<http://developer.android.com/guide/components/activities.html>
